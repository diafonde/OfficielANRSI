<!-- Loading State -->
<div class="loading-indicator" *ngIf="loading">
  <div class="spinner"></div>
  <p>Loading article...</p>
</div>

<!-- Article Not Found State -->
<div class="article-not-found" *ngIf="articleNotFound && !loading">
  <div class="container">
    <div class="not-found-content">
      <h1>Article Not Found</h1>
      <p>The article you're looking for doesn't exist or has been removed.</p>
      <a routerLink="/" class="btn btn-primary">Back to Home</a>
    </div>
  </div>
</div>

<!-- Article Content -->
<div class="article-detail-hero" *ngIf="article && !loading">
  <div class="container">
    <div class="article-category">{{ article.category }}</div>
    <h1>{{ article.title }}</h1>
    <div class="article-meta">
      <div class="article-author">
        <span>By {{ article.author }}</span>
      </div>
      <div class="article-date">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        <span>{{ article.publishDate | date:'mediumDate' }}</span>
      </div>
    </div>
  </div>
  <div class="hero-overlay"></div>
</div>

<div class="container" *ngIf="article && !loading">
  <div class="article-content">
    <div class="article-summary">
      {{ article.excerpt }}
    </div>
    
    <div class="article-featured-image">
      <img [src]="article.imageUrl" [alt]="article.title" class="img-fluid" (error)="onImageError($event)">
    </div>
    
    <div class="article-text">
      <p *ngFor="let paragraph of articleParagraphs">{{ paragraph }}</p>
    </div>
    
    <div class="article-tags">
      <span *ngFor="let tag of article.tags" class="article-tag">{{ tag }}</span>
    </div>
    
    <div class="article-share">
      <span>Share this article:</span>
      <div class="share-buttons">
        <a href="#" aria-label="Share on Twitter">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"></path>
          </svg>
        </a>
        <a href="#" aria-label="Share on Facebook">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>
          </svg>
        </a>
        <a href="#" aria-label="Share on LinkedIn">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path>
            <rect x="2" y="9" width="4" height="12"></rect>
            <circle cx="4" cy="4" r="2"></circle>
          </svg>
        </a>
        <a href="#" aria-label="Share by Email">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
            <polyline points="22,6 12,13 2,6"></polyline>
          </svg>
        </a>
      </div>
    </div>
  </div>
  
  <div class="related-articles">
    <h2>Related Articles</h2>
    <div class="grid grid-3">
      <div class="related-article-card" *ngFor="let relatedArticle of relatedArticles">
        <img [src]="relatedArticle.imageUrl" [alt]="relatedArticle.title" class="img-fluid">
        <div class="related-article-content">
          <h3><a [routerLink]="['/article', relatedArticle.id]">{{ relatedArticle.title }}</a></h3>
          <div class="related-article-meta">
            {{ relatedArticle.publishDate | date:'mediumDate' }} | {{ relatedArticle.category }}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
